!function(t){var e={};function n(r){if(e[r])return e[r].exports;var l=e[r]={i:r,l:!1,exports:{}};return t[r].call(l.exports,l,l.exports,n),l.l=!0,l.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var l in t)n.d(r,l,function(e){return t[e]}.bind(null,l));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(module,exports){const[canvas]=document.getElementsByTagName("canvas"),context=canvas.getContext("2d"),width=canvas.width,height=canvas.height,sound={play(d){with(new AudioContext)with(G=createGain())for(i in d)with(createOscillator())d[i]&&(connect(G),G.connect(destination),start(.1*i),frequency.setValueAtTime(440*1.06**(13-d[i]),.1*i),type="triangle",gain.setValueAtTime(1,.1*i),gain.setTargetAtTime(1e-4,.1*i+.08,.005),stop(.1*i+.09))},jump(){this.play([25,20,15])}},map=["                  #                       %            $"," ***  ** ***  ** ***  ** ***  ** ***  ** ***  ** ***  **","                      %             %                   ","** ******  **** **  ****** ******  ******* ******* *****","    #         %                                         ","** ***  ** ******* ******* ***  * ***     ** ***   *****","                        %              #         %      ","***** *  *** ******* ******* **  *** *******  ******* **"],obstacles=[],size=Math.floor(height/map.length);map.forEach((t,e)=>{const n=e*size;t.split("").forEach((t,e)=>{const r=e*size;switch(t){case"*":obstacles.push(obstacle(r,n,size,25))}})});const controls=getControls(),player={x:canvas.width/2,y:canvas.height/2,width:25,height:25,speed:3,v:{x:0,y:0},jump:!1,grnd:!1,draw(){context.fillStyle="lightblue",this.jump&&(context.fillStyle="orange"),controls.right&&(context.fillStyle="red"),controls.left&&(context.fillStyle="lightgreen"),context.fillRect(this.x,this.y,this.width,this.height)}};function loop(){context.clearRect(0,0,canvas.width,canvas.height),context.globalAlpha=1,context.fillStyle="#121212",context.fillRect(0,0,canvas.width,canvas.height),controls.jump&&!player.jump&&player.grnd&&(player.jump=!0,player.grnd=!1,player.v.y=2.5*-player.speed,sound.jump()),controls.right&&player.v.x<player.speed&&player.v.x++,controls.left&&player.v.x>-player.speed&&player.v.x--,player.v.x*=.8,player.v.y+=.25,player.grnd=!1,obstacles.forEach(t=>{const[e,n]=t.collides(player);"left"===e||"right"===e?(player.v.x=0,player.jump=!1,player.x+=n):"bottom"===e?(player.grnd=!0,player.jump=!1,player.y+=n):"top"===e&&(player.v.y*=-1,player.y+=n),t.draw()}),player.grnd&&(player.v.y=0),player.x+=player.v.x,player.y+=player.v.y,player.draw(),requestAnimationFrame(loop)}function obstacle(t,e,n,r){return{x:t,y:e,width:n,height:r,collides(t){return checkCollision(t,this)},draw(){context.fillStyle="#212121",this.x-=1,context.fillRect(this.x,this.y,this.width,this.height)}}}function getControls(){const t={jump:[38,32,87],right:[39,68],left:[37,65]},e={jump:!1,right:!1,left:!1},n=n=>{Object.keys(e).forEach(r=>{t[r].indexOf(event.keyCode)>-1&&(e[r]=n)})};return document.body.addEventListener("keydown",t=>n(!0)),document.body.addEventListener("keyup",t=>n(!1)),e}function checkCollision(t,e){const n=[t.x+t.width/2-(e.x+e.width/2),t.y+t.height/2-(e.y+e.height/2)],r=[t.width/2+e.width/2,t.height/2+e.height/2];if(Math.abs(n[0])<r[0]&&Math.abs(n[1])<r[1]){const t=[r[0]-Math.abs(n[0]),r[1]-Math.abs(n[1])];return t[0]>=t[1]?n[1]>0?["top",t[1]]:["bottom",-t[1]]:n[0]>0?["left",t[0]]:["right",-t[0]]}return[null,null]}loop()}]);